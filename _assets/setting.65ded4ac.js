let a=document.createElement("style");a.innerHTML="body{overflow-y:scroll}",document.head.appendChild(a);import{s as o,o as l,c as t,b as e,h as s,j as r}from"./index.5e95bf68.js";var n={name:"author_setting",data:()=>({author:{username:"",nickname:"",mail:""}}),components:{},methods:{logout(){localStorage.removeItem("token"),localStorage.removeItem("author"),this.$store.state.username="",window.location.href="/"},save(){o({url:"/api/author",method:"PUT",data:this.author}).then((a=>{this.selectAuthorLoad()}))},selectAuthorLoad(){o({url:"/api/author/"+this.$route.params.username,method:"GET"}).then((a=>{this.author=a.data}))}},mounted(){this.selectAuthorLoad()}};const m={style:{margin:"10px"}},c={class:"row mb-3"},u=e("label",{class:"col-sm-2 col-form-label"},"用户名",-1),i={class:"col-sm-10"},d={class:"row mb-3"},h=e("label",{class:"col-sm-2 col-form-label",disabled:""},"邮箱",-1),b={class:"col-sm-10"},p={class:"row mb-3"},v=e("label",{class:"col-sm-2 col-form-label"},"昵称",-1),f={class:"col-sm-10"},g={class:"row mb-3"},w=e("label",{class:"col-sm-2 col-form-label"},"签名",-1),y={class:"col-sm-10"};n.render=function(a,o,n,k,x,U){return l(),t("div",m,[e("div",c,[u,e("div",i,[s(e("input",{class:"form-control ",disabled:"","onUpdate:modelValue":o[1]||(o[1]=a=>x.author.username=a)},null,512),[[r,x.author.username]])])]),e("div",d,[h,e("div",b,[s(e("input",{type:"text",class:"form-control",disabled:"","onUpdate:modelValue":o[2]||(o[2]=a=>x.author.mail=a)},null,512),[[r,x.author.mail]])])]),e("div",p,[v,e("div",f,[s(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[3]||(o[3]=a=>x.author.nickname=a)},null,512),[[r,x.author.nickname]])])]),e("div",g,[w,e("div",y,[s(e("input",{class:"form-control",id:"inputPassword3","onUpdate:modelValue":o[4]||(o[4]=a=>x.author.signature=a)},null,512),[[r,x.author.signature]])])]),e("div",null,[e("button",{class:"btn btn-primary",onClick:o[5]||(o[5]=(...a)=>U.save&&U.save(...a))},"保存信息"),e("button",{class:"btn btn-primary float-end",onClick:o[6]||(o[6]=(...a)=>U.logout&&U.logout(...a))},"退出登录")])])};export default n;
