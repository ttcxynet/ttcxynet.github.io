let e=document.createElement("style");e.innerHTML="body{overflow-y:scroll}",document.head.appendChild(e);import{s as a,o as s,c as t,b as n,t as i,f as l,g as r,r as o}from"./index.5e95bf68.js";var c={name:"author_index",data(){return{routeName:this.$route.name,author:{},thisUsername:"",loginUsername:this.$store.state.username,from:{page:1},fans:1}},components:{},methods:{fansClick(e){2==this.fans?a({url:"/api/fans/"+e,method:"POST"}).then((e=>{this.fans=1})):a({url:"/api/fans/"+e,method:"DELETE"})(e).then((e=>{this.fans=2}))},isFans(){a({url:"/api/fans/is",method:"get",params:{username:this.thisUsername}}).then((e=>{1==e.data?this.fans=1:this.fans=2}))},selectTypeClick(e){this.routeName=e,this.$router.push({name:e})},selectAuthor(e){a({url:"/api/author/"+e,method:"GET"}).then((e=>{this.author=e.data}))}},created(){this.selectAuthor(this.$route.params.username)},mounted(){this.thisUsername=this.$route.params.username,""!=this.$store.state.username&&this.isFans()}};const u={class:"row clearfix"},m={class:"col-md-4 col-md-push-8 move-p-lr-0"},h={class:"card mb-2 move-b-lr-0"},d={class:"card-body "},p=n("hr",null,null,-1),v=r("简介："),k={class:"list-group mb-2  d-md-inline d-none"},f={class:"col-md-8 col-md-pull-4 mb-2 move-p-lr-0"},b={class:"card move-b-lr-0"},y={class:"card-header"},g={class:"nav justify-content-center"},C={class:"nav-item"},x={class:"nav-item"},_={key:0,class:"nav-item"},T={key:1,class:"nav-item"},U={key:2,class:"nav-item"},N={class:"card-body p-0"};c.render=function(e,a,r,c,$,w){const E=o("notice"),j=o("router-view");return s(),t("div",u,[n("div",m,[n("div",h,[n("div",d,[n("strong",null,i($.author.nickname),1),2==$.fans?(s(),t("button",{key:0,class:"btn btn-outline-warning float-end",style:{padding:"0px 5px 0px 3px","font-size":"13px"},onClick:a[1]||(a[1]=e=>w.fansClick($.author.username))},"订阅")):l("",!0),1==$.fans?(s(),t("button",{key:1,class:"btn btn-outline-warning float-end",style:{padding:"0px 5px 0px 3px","font-size":"13px"},onClick:a[2]||(a[2]=e=>w.fansClick($.author.username))},"取消订阅")):l("",!0),p,n("div",null,[v,n("span",null,i($.author.signature),1)])])]),n("div",k,[n(E)])]),n("div",f,[n("div",b,[n("div",y,[n("ul",g,[n("li",C,[n("a",{class:["nav-link","author_blog"==$.routeName?"nav-link-active":""],onClick:a[3]||(a[3]=e=>w.selectTypeClick("author_blog"))},"博客",2)]),n("li",x,[n("a",{class:["nav-link","author_subject"==$.routeName?"nav-link-active":""],onClick:a[4]||(a[4]=e=>w.selectTypeClick("author_subject"))},"专栏",2)]),$.thisUsername==$.loginUsername?(s(),t("li",_,[n("a",{class:["nav-link","author_subscribe"==$.routeName?"nav-link-active":""],onClick:a[5]||(a[5]=e=>w.selectTypeClick("author_subscribe"))},"订阅",2)])):l("",!0),$.thisUsername==$.loginUsername?(s(),t("li",T,[n("a",{class:["nav-link","author_like"==$.routeName?"nav-link-active":""],onClick:a[6]||(a[6]=e=>w.selectTypeClick("author_like"))},"喜欢",2)])):l("",!0),$.thisUsername==$.loginUsername?(s(),t("li",U,[n("a",{class:["nav-link","author_setting"==$.routeName?"nav-link-active":""],onClick:a[7]||(a[7]=e=>w.selectTypeClick("author_setting"))},"设置",2)])):l("",!0)])]),n("div",N,[n(j)])])])])};export default c;
