/* empty css                  *//* empty css                   *//* empty css               *//* empty css                   *//* empty css                      *//* empty css                  *//* empty css                  *//* empty css                   *//* empty css                     */import{_ as U,s as g}from"./index.3c783bdb.js";import{A as B,B as N,C as T,D as z,G as O,H as R,I as S,J as M,K as q,L as A,M as G,O as H,P as J,Q as K,R as Q,S as W,o as d,d as m,w as t,m as l,e as x,i as w,F as E,u as X,f,t as Y,n as V,j as r}from"./vendor.610329c2.js";const Z={name:"admin_video",data(){return{loading:!0,checkDialogVisible:!1,videoDialogVisible:!1,routeName:this.$route.name,videoBfq:null,classList:[],form:{nickname:"",region:"",name:"",state:"2",page:1},videoData:{},ckIndex:-1,ckVideo:{},ckForm:{dataId:"",checkId:"",checkText:"",state:""},stateOptions:[{value:"2",label:"\u5F85\u5BA1\u6838"},{value:"1",label:"\u5DF2\u901A\u8FC7"},{value:"4",label:"\u5DF2\u5220\u9664"},{value:"5",label:"\u672A\u901A\u8FC7"}]}},created(){},methods:{handleClose(){},handleCurrentChange(a){this.loadVideoList()},confirmDelete(a,o){this.ckVideo=o,this.pass(a,"4")},pass(a,o){this.ckForm.state=o,this.ckForm.dataId=this.ckVideo.videoId,g({url:"/api/admin/video/pass",method:"put",data:this.ckForm}).then(b=>{alert(""),B({type:"success",message:"\u6267\u884C\u6210\u529F"}),this.checkDialogVisible=!1,this.videoDialogVisible=!1,this.ckVideo={},this.ckForm={},this.videoData.list.splice(a,1)})},loadVideoClassList(){g({url:"/api/class",method:"get",params:{type:"video"}}).then(a=>{this.classList=a.data})},loadVideoList(){this.loading=!0,g({url:"/api/admin/video/list",method:"get",params:this.form}).then(a=>{this.videoData=a.data,this.loading=!1})},reset(){this.form={nickname:"",region:"",name:"",state:"2",page:1}},openVideo(a,o){this.videoDialogVisible=!0,this.ckIndex=o,this.ckVideo=a;let b=this;this.$nextTick(function(){b.$refs.videoPlay.play()})},closeVideo(){this.ckVideo={},this.videoDialogVisible=!1}},mounted(){this.loadVideoClassList(),this.loadVideoList()}},$=f("span",{class:"text-gray-500"},"-",-1),ee=r("\u641C\u7D22"),le=r("\u91CD\u7F6E"),oe=["onClick"],te=r("\u5BA1\u67E5"),ie=r("\u67E5\u770B"),ae=r("\u5220\u9664"),se=f("br",null,null,-1),ne={class:"dialog-footer"},de=r("\u53D6\u6D88"),re=r("\u786E\u8BA4\u4E0D\u901A\u8FC7"),me=["src"],ue={class:"dialog-footer"},ce=r("\u5173\u95ED"),pe=r("\u901A\u8FC7"),fe=r("\u4E0D\u4E88\u4EE5\u901A\u8FC7");function _e(a,o,b,ke,i,s){const v=N,u=T,p=z,h=O,y=R,_=S,n=M,C=q,k=A,I=G,F=H,j=J,D=K,L=Q,P=W;return d(),m(L,null,{default:t(()=>[l(_,{span:8,style:{padding:"10px"}},{default:t(()=>[l(C,{ref:"formRef",model:i.form,"label-width":"120px"},{default:t(()=>[l(u,{label:"\u7528\u6237\u540D"},{default:t(()=>[l(v,{modelValue:i.form.nickname,"onUpdate:modelValue":o[0]||(o[0]=e=>i.form.nickname=e)},null,8,["modelValue"])]),_:1}),l(u,{label:"\u89C6\u9891\u5206\u7C7B"},{default:t(()=>[l(h,{modelValue:i.form.videoClassId,"onUpdate:modelValue":o[1]||(o[1]=e=>i.form.videoClassId=e),placeholder:"\u89C6\u9891\u5206\u7C7B",style:{width:"100%"}},{default:t(()=>[(d(!0),x(E,null,w(i.classList,(e,c)=>(d(),m(p,{key:c,value:e.classId,label:e.className},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(u,{label:"\u53D1\u5E03\u65F6\u95F4"},{default:t(()=>[l(_,{span:11},{default:t(()=>[l(y,{modelValue:i.form.date1,"onUpdate:modelValue":o[2]||(o[2]=e=>i.form.date1=e),type:"date",placeholder:"\u5F00\u59CB\u65F6\u95F4",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),l(_,{span:2,class:"text-center"},{default:t(()=>[$]),_:1}),l(_,{span:11},{default:t(()=>[l(y,{modelValue:i.form.date2,"onUpdate:modelValue":o[3]||(o[3]=e=>i.form.date2=e),type:"date",placeholder:"\u7ED3\u675F\u65F6\u95F4",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),l(u,{label:"\u72B6\u6001"},{default:t(()=>[l(h,{modelValue:i.form.state,"onUpdate:modelValue":o[4]||(o[4]=e=>i.form.state=e),placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001",style:{width:"100%"}},{default:t(()=>[(d(!0),x(E,null,w(i.stateOptions,(e,c)=>(d(),m(p,{label:e.label,value:e.value,key:c},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(u,null,{default:t(()=>[l(n,{type:"primary",onClick:s.loadVideoList},{default:t(()=>[ee]),_:1},8,["onClick"]),l(n,{onClick:s.reset},{default:t(()=>[le]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),l(_,{span:16,style:{padding:"10px"}},{default:t(()=>[X((d(),m(F,{data:i.videoData.list,style:{width:"100%"},border:""},{default:t(()=>[l(k,{label:"\u6807\u9898"},{default:t(e=>[f("span",{onClick:c=>s.openVideo(e.row)},Y(e.row.title),9,oe)]),_:1}),l(k,{label:"\u7528\u6237",prop:"nickname"}),l(k,{label:"\u65F6\u95F4",prop:"createDate"}),l(k,{label:"\u72B6\u6001",prop:"codeName"}),l(k,{label:"\u64CD\u4F5C",width:"145"},{default:t(e=>[e.row.state=="2"?(d(),m(n,{key:0,size:"small",onClick:c=>s.openVideo(e.row,e.$index),type:"primary"},{default:t(()=>[te]),_:2},1032,["onClick"])):V("",!0),e.row.state=="1"?(d(),m(n,{key:1,size:"small",onClick:c=>s.openVideo(e.row,e.$index),type:"primary"},{default:t(()=>[ie]),_:2},1032,["onClick"])):V("",!0),l(I,{"confirm-button-text":"\u786E\u8BA4","cancel-button-text":"\u53D6\u6D88",icon:a.InfoFilled,"icon-color":"red",onConfirm:c=>s.confirmDelete(e.$index,e.row),title:"\u662F\u5426\u786E\u8BA4\u5220\u9664?"},{reference:t(()=>[l(n,{size:"small",type:"danger"},{default:t(()=>[ae]),_:1})]),_:2},1032,["icon","onConfirm"])]),_:1})]),_:1},8,["data"])),[[P,i.loading]]),se,l(j,{background:"",layout:"prev, pager, next",currentPage:i.form.page,"onUpdate:currentPage":o[5]||(o[5]=e=>i.form.page=e),"page-count":i.videoData.pages,onCurrentChange:s.handleCurrentChange,style:{"text-align":"center",padding:"0px"}},null,8,["currentPage","page-count","onCurrentChange"]),l(D,{modelValue:i.checkDialogVisible,"onUpdate:modelValue":o[10]||(o[10]=e=>i.checkDialogVisible=e),title:"\u4E0D\u901A\u8FC7\u539F\u56E0",width:"30%"},{footer:t(()=>[f("span",ne,[l(n,{onClick:o[8]||(o[8]=e=>i.checkDialogVisible=!1)},{default:t(()=>[de]),_:1}),l(n,{type:"primary",onClick:o[9]||(o[9]=e=>s.pass("5"))},{default:t(()=>[re]),_:1})])]),default:t(()=>[l(C,{ref:"formRef","label-width":"120px"},{default:t(()=>[l(u,{label:"\u4E0D\u901A\u8FC7\u539F\u56E0"},{default:t(()=>[l(h,{modelValue:i.ckForm.checkId,"onUpdate:modelValue":o[6]||(o[6]=e=>i.ckForm.checkId=e),placeholder:"please select your zone",style:{width:"100%"}},{default:t(()=>[l(p,{value:"6",label:"\u653F\u6CBB\u654F\u611F"}),l(p,{value:"7",label:"\u8FDD\u6CD5\u5185\u5BB9"}),l(p,{value:"8",label:"\u5546\u4E1A\u5E7F\u544A"}),l(p,{value:"9",label:"\u4E0D\u5408\u89C4\u5E7F\u544A"})]),_:1},8,["modelValue"])]),_:1}),l(u,{label:"\u5907\u6CE8"},{default:t(()=>[l(v,{modelValue:i.ckForm.checkText,"onUpdate:modelValue":o[7]||(o[7]=e=>i.ckForm.checkText=e)},null,8,["modelValue"])]),_:1})]),_:1},512)]),_:1},8,["modelValue"]),l(D,{modelValue:i.videoDialogVisible,"onUpdate:modelValue":o[14]||(o[14]=e=>i.videoDialogVisible=e),title:"\u89C6\u9891\u64AD\u653E",width:"90%","before-close":s.closeVideo},{footer:t(()=>[f("span",ue,[l(n,{onClick:o[11]||(o[11]=e=>(i.videoDialogVisible=!1,s.closeVideo()))},{default:t(()=>[ce]),_:1}),i.ckVideo.state=="2"?(d(),m(n,{key:0,type:"primary",onClick:o[12]||(o[12]=e=>(i.videoDialogVisible=!1,i.form.state="1",s.pass("1",i.form.state)))},{default:t(()=>[pe]),_:1})):V("",!0),i.ckVideo.state=="2"?(d(),m(n,{key:1,type:"primary",onClick:o[13]||(o[13]=e=>i.checkDialogVisible=!0)},{default:t(()=>[fe]),_:1})):V("",!0)])]),default:t(()=>[f("video",{id:"videoPlay",ref:"videoPlay",controls:"",src:i.ckVideo.videoUrl,loop:"loop",style:{width:"100%",height:"500px",background:"black"}},null,8,me)]),_:1},8,["modelValue","before-close"])]),_:1})]),_:1})}var Ie=U(Z,[["render",_e]]);export{Ie as default};
