import{_ as x,s as h,a as b}from"./index.11c52178.js";import{r as d,o as a,e as i,f as s,t as v,n as c,m as o,p as _,w as u,j as r}from"./vendor.610329c2.js";const g={name:"author_index",data(){return{routeName:this.$route.name,author:{},thisUsername:"",loginUsername:this.$store.state.username,from:{page:1},fans:1}},components:{},watch:{$route(n,t){this.routeName=this.$route.name}},methods:{fansClick(n){this.fans==2?h({url:"/api/fans/"+n,method:"POST"}).then(t=>{this.fans=1}):h({url:"/api/fans/"+n,method:"DELETE"}).then(t=>{this.fans=2})},isFans(){h({url:"/api/fans/username/"+this.thisUsername,method:"get"}).then(n=>{n.data==1?this.fans=1:this.fans=2})},selectAuthor(n){h({url:"/api/author/"+n,method:"GET"}).then(t=>{this.author=t.data})}},created(){this.selectAuthor(this.$route.params.username)},mounted(){this.thisUsername=this.$route.params.username,this.$store.state.username!=""&&this.isFans()}},y={class:"row clearfix"},N={class:"col-md-4 col-md-push-8 move-p-lr-0"},U={class:"card mb-2 move-b-lr-0"},C={class:"card-body"},w=s("hr",null,null,-1),j=r("\u7B80\u4ECB\uFF1A"),E={class:"list-group mb-2 d-md-inline d-none"},T={class:"col-md-8 col-md-pull-4 mb-2 move-p-lr-0"},V={class:"card move-b-lr-0"},z={key:0,class:"card-header"},B={class:"nav justify-content-center"},A={class:"nav-item"},D=r("\u6587\u7AE0"),F={class:"nav-item"},S=r("\u89C6\u9891"),G={class:"nav-item"},L=r("\u4E13\u680F"),O={key:0,class:"nav-item"},P=r("\u8BA2\u9605"),q={key:1,class:"nav-item"},H=r("\u6536\u85CF"),I={key:2,class:"nav-item"},J=r("\u8BBE\u7F6E"),K={class:"card-body p-0"};function M(n,t,Q,R,e,m){const p=b,l=d("router-link"),f=d("router-view");return a(),i("div",y,[s("div",N,[s("div",U,[s("div",C,[s("strong",null,v(e.author.nickname),1),e.fans==2?(a(),i("button",{key:0,class:"btn btn-outline-warning float-end",style:{padding:"0px 5px 0px 3px","font-size":"13px"},onClick:t[0]||(t[0]=k=>m.fansClick(e.author.username))},"\u8BA2\u9605")):c("",!0),e.fans==1?(a(),i("button",{key:1,class:"btn btn-outline-warning float-end",style:{padding:"0px 5px 0px 3px","font-size":"13px"},onClick:t[1]||(t[1]=k=>m.fansClick(e.author.username))},"\u53D6\u6D88\u8BA2\u9605")):c("",!0),w,s("div",null,[j,s("span",null,v(e.author.signature),1)])])]),s("div",E,[o(p)])]),s("div",T,[s("div",V,[e.thisUsername==e.loginUsername?(a(),i("div",z,[s("ul",B,[s("li",A,[o(l,{class:_(["nav-link",e.routeName=="author_article"?"nav-link-active":""]),to:{name:"author_article"}},{default:u(()=>[D]),_:1},8,["class"])]),s("li",F,[o(l,{class:_(["nav-link",e.routeName=="author_video"?"nav-link-active":""]),to:{name:"author_video"}},{default:u(()=>[S]),_:1},8,["class"])]),s("li",G,[o(l,{class:_(["nav-link",e.routeName=="author_subject"?"nav-link-active":""]),to:{name:"author_subject"}},{default:u(()=>[L]),_:1},8,["class"])]),e.thisUsername==e.loginUsername?(a(),i("li",O,[o(l,{class:_(["nav-link",e.routeName=="author_subscribe"?"nav-link-active":""]),to:{name:"author_subscribe"}},{default:u(()=>[P]),_:1},8,["class"])])):c("",!0),e.thisUsername==e.loginUsername?(a(),i("li",q,[o(l,{class:_(["nav-link",e.routeName=="author_collect"?"nav-link-active":""]),to:{name:"author_collect"}},{default:u(()=>[H]),_:1},8,["class"])])):c("",!0),e.thisUsername==e.loginUsername?(a(),i("li",I,[o(l,{class:_(["nav-link",e.routeName=="author_setting"?"nav-link-active":""]),to:{name:"author_setting"}},{default:u(()=>[J]),_:1},8,["class"])])):c("",!0)])])):c("",!0),s("div",K,[o(f)])])])])}var Y=x(g,[["render",M]]);export{Y as default};
