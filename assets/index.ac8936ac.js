import{c as j,a as L,b as P,r as O,o as c,d as A,e as p,f as _,F as h,g as I,h as f,i as R,t as T,j as V}from"./vendor.3451bb13.js";const x=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function i(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(e){if(e.ep)return;e.ep=!0;const s=i(e);fetch(e.href,s)}};x();const y="modulepreload",E={},D="/",r=function(o,i){return!i||i.length===0?o():Promise.all(i.map(a=>{if(a=`${D}${a}`,a in E)return;E[a]=!0;const e=a.endsWith(".css"),s=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${s}`))return;const n=document.createElement("link");if(n.rel=e?"stylesheet":y,e||(n.as="script",n.crossOrigin=""),n.href=a,document.head.appendChild(n),e)return new Promise((u,b)=>{n.addEventListener("load",u),n.addEventListener("error",b)})})).then(()=>o())},$=[{path:"/",name:"home",component:()=>r(()=>import("./index.364455ee.js"),["assets/index.364455ee.js","assets/index.946b5762.css","assets/vendor.3451bb13.js"]),children:[{path:"/",name:"main",component:()=>r(()=>import("./index.ce5ea4a9.js"),["assets/index.ce5ea4a9.js","assets/index.b9a5b498.css","assets/vendor.3451bb13.js"])},{path:"/blog",name:"blog",component:()=>r(()=>import("./index.ce5ea4a9.js"),["assets/index.ce5ea4a9.js","assets/index.b9a5b498.css","assets/vendor.3451bb13.js"])},{path:"/author/:username",name:"author_index",component:()=>r(()=>import("./index.5a450efd.js"),["assets/index.5a450efd.js","assets/blog.50a75a1f.css","assets/vendor.3451bb13.js"]),children:[{path:"",name:"author_blog",component:()=>r(()=>import("./blog.e9c867d9.js"),["assets/blog.e9c867d9.js","assets/blog.50a75a1f.css","assets/vendor.3451bb13.js"])},{path:"setting",name:"author_setting",component:()=>r(()=>import("./setting.9555a633.js"),["assets/setting.9555a633.js","assets/blog.50a75a1f.css","assets/vendor.3451bb13.js"])},{path:"subject",name:"author_subject",component:()=>r(()=>import("./subject.a212ce7e.js"),["assets/subject.a212ce7e.js","assets/blog.50a75a1f.css","assets/vendor.3451bb13.js"])},{path:"subscribe",name:"author_subscribe",component:()=>r(()=>import("./subscribe.280303ec.js"),["assets/subscribe.280303ec.js","assets/blog.50a75a1f.css","assets/vendor.3451bb13.js"])},{path:"like",name:"author_like",component:()=>r(()=>import("./like.997237ec.js"),["assets/like.997237ec.js","assets/blog.50a75a1f.css","assets/vendor.3451bb13.js"])}]},{path:"/blog/:id",name:"blog_info",component:()=>r(()=>import("./blog.0ec73f71.js"),["assets/blog.0ec73f71.js","assets/vendor.3451bb13.js"])},{path:"/subject",name:"subject_index",component:()=>r(()=>import("./index.46070ef5.js"),["assets/index.46070ef5.js","assets/index.71d665fb.css","assets/vendor.3451bb13.js"])},{path:"/authors",name:"author_list",component:()=>r(()=>import("./author_list.54c3dbcd.js"),["assets/author_list.54c3dbcd.js","assets/blog.50a75a1f.css","assets/vendor.3451bb13.js"])},{path:"/subject/:subject_id",name:"subject_info",component:()=>r(()=>import("./post.96387b7e.js"),["assets/post.96387b7e.js","assets/post.49c383c9.css","assets/vendor.3451bb13.js"])},{path:"/search",name:"search_index",component:()=>r(()=>import("./index.bd18c7e1.js"),["assets/index.bd18c7e1.js","assets/vendor.3451bb13.js"])}]},{path:"/blog-editor/:id",name:"blog-editor",component:()=>r(()=>import("./blog-editor.9ffe28fd.js"),["assets/blog-editor.9ffe28fd.js","assets/blog-editor.186a95c0.css","assets/vendor.3451bb13.js"])},{path:"/login",name:"login",component:()=>r(()=>import("./index.bd5fd5d4.js"),["assets/index.bd5fd5d4.js","assets/index.0dbf4bdd.css","assets/vendor.3451bb13.js"])},{path:"/:catchAll(.*)",component:()=>r(()=>import("./404.33ef95ed.js"),["assets/404.33ef95ed.js","assets/blog.50a75a1f.css","assets/vendor.3451bb13.js"]),hidden:!0}],l=j({history:L(),routes:$});var d=P({state:{username:""},actions:{}}),g=(t,o)=>{const i=t.__vccOpts||t;for(const[a,e]of o)i[a]=e;return i};const k={name:"App",created(){}};function S(t,o,i,a,e,s){const n=O("router-view");return c(),A(n)}var N=g(k,[["render",S]]);l.beforeEach((t,o,i)=>{i()});l.afterEach((t,o,i)=>{localStorage.getItem("author")!=null?d.state.username=JSON.parse(localStorage.getItem("author")).username:d.state.username=""});p.defaults.withCredentials=!0;const m=p.create({baseURL:"https://106.54.189.191/",timeout:3e4});m.interceptors.request.use(t=>(t.headers.Authorization="Bearer "+localStorage.getItem("token"),t),t=>Promise.reject(t));m.interceptors.response.use(t=>{const o=t.data;return o.code=200,o.code!==200?(alert(o.message),Promise.reject(new Error(o.message||"Error"))):o},t=>{if(t.response.status===401)return alert("\u9700\u8981\u767B\u5F55"),Promise.reject(t);if(t.response.status===404)return alert(t.response.data.message),Promise.reject(t)});const w={name:"notice",data(){return{count:0,advList:[]}},created(){},methods:{loadNotice(){m({url:"/api/notice/list",method:"GET"}).then(t=>{this.advList=t.data})}},mounted(){this.loadNotice()}},B=f("a",{class:"list-group-item active"},[R("TOP"),f("span",{class:"float-end"},"\u{1F387}")],-1),C=["href"];function q(t,o,i,a,e,s){return c(),_(h,null,[B,(c(!0),_(h,null,I(e.advList,(n,u)=>(c(),_("a",{key:u,href:n.url,class:"list-group-item move-b-lr-0"},T(n.title),9,C))),128))],64)}var F=g(w,[["render",q]]);const v=V(N);v.component("notice",F);v.use(l).use(d).mount("#app");export{g as _,F as a,m as s};
