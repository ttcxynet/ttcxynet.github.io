import{c as b,a as L,b as P,r as O,o as c,d as A,e as p,f as _,F as h,g as I,h as f,i as R,t as T,j as V}from"./vendor.3451bb13.js";const x=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function i(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(e){if(e.ep)return;e.ep=!0;const s=i(e);fetch(e.href,s)}};x();const y="modulepreload",E={},D="/",o=function(r,i){return!i||i.length===0?r():Promise.all(i.map(a=>{if(a=`${D}${a}`,a in E)return;E[a]=!0;const e=a.endsWith(".css"),s=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${s}`))return;const n=document.createElement("link");if(n.rel=e?"stylesheet":y,e||(n.as="script",n.crossOrigin=""),n.href=a,document.head.appendChild(n),e)return new Promise((u,j)=>{n.addEventListener("load",u),n.addEventListener("error",j)})})).then(()=>r())},$=[{path:"/",name:"home",component:()=>o(()=>import("./index.ba5fa37d.js"),["assets/index.ba5fa37d.js","assets/index.a6935eaf.css","assets/vendor.3451bb13.js"]),children:[{path:"/",name:"main",component:()=>o(()=>import("./index.d05f63fc.js"),["assets/index.d05f63fc.js","assets/index.7f0a7945.css","assets/vendor.3451bb13.js"])},{path:"/article",name:"article",component:()=>o(()=>import("./index.d05f63fc.js"),["assets/index.d05f63fc.js","assets/index.7f0a7945.css","assets/vendor.3451bb13.js"])},{path:"/author/:username",name:"author_index",component:()=>o(()=>import("./index.52209d9f.js"),["assets/index.52209d9f.js","assets/like.5d34a15c.css","assets/vendor.3451bb13.js"]),children:[{path:"",name:"author_article",component:()=>o(()=>import("./article.126b6e31.js"),["assets/article.126b6e31.js","assets/like.5d34a15c.css","assets/vendor.3451bb13.js"])},{path:"setting",name:"author_setting",component:()=>o(()=>import("./setting.83c701ba.js"),["assets/setting.83c701ba.js","assets/like.5d34a15c.css","assets/vendor.3451bb13.js"])},{path:"subject",name:"author_subject",component:()=>o(()=>import("./subject.f712a590.js"),["assets/subject.f712a590.js","assets/like.5d34a15c.css","assets/vendor.3451bb13.js"])},{path:"subscribe",name:"author_subscribe",component:()=>o(()=>import("./subscribe.0c67e17f.js"),["assets/subscribe.0c67e17f.js","assets/like.5d34a15c.css","assets/vendor.3451bb13.js"])},{path:"like",name:"author_like",component:()=>o(()=>import("./like.6151cefd.js"),["assets/like.6151cefd.js","assets/like.5d34a15c.css","assets/vendor.3451bb13.js"])}]},{path:"/article/:id",name:"article_info",component:()=>o(()=>import("./article.a0048cb8.js"),["assets/article.a0048cb8.js","assets/vendor.3451bb13.js"])},{path:"/subject",name:"subject_index",component:()=>o(()=>import("./index.c57cffcf.js"),["assets/index.c57cffcf.js","assets/index.4a0f7b45.css","assets/vendor.3451bb13.js"])},{path:"/authors",name:"author_list",component:()=>o(()=>import("./author_list.8fde2d61.js"),["assets/author_list.8fde2d61.js","assets/like.5d34a15c.css","assets/vendor.3451bb13.js"])},{path:"/subject/:subject_id",name:"subject_info",component:()=>o(()=>import("./post.0c0eaa41.js"),["assets/post.0c0eaa41.js","assets/post.2e7bd1cb.css","assets/vendor.3451bb13.js"])},{path:"/search",name:"search_index",component:()=>o(()=>import("./index.2d897e7b.js"),["assets/index.2d897e7b.js","assets/vendor.3451bb13.js"])}]},{path:"/article-editor/:id",name:"article-editor",component:()=>o(()=>import("./article-editor.ca664d64.js"),["assets/article-editor.ca664d64.js","assets/article-editor.7a855e86.css","assets/vendor.3451bb13.js"])},{path:"/login",name:"login",component:()=>o(()=>import("./index.57fd246e.js"),["assets/index.57fd246e.js","assets/index.0dbf4bdd.css","assets/vendor.3451bb13.js"])},{path:"/:catchAll(.*)",component:()=>o(()=>import("./404.8ce3f270.js"),["assets/404.8ce3f270.js","assets/like.5d34a15c.css","assets/vendor.3451bb13.js"]),hidden:!0}],l=b({history:L(),routes:$});var d=P({state:{username:""},actions:{}}),v=(t,r)=>{const i=t.__vccOpts||t;for(const[a,e]of r)i[a]=e;return i};const k={name:"App",created(){}};function S(t,r,i,a,e,s){const n=O("router-view");return c(),A(n)}var N=v(k,[["render",S]]);l.beforeEach((t,r,i)=>{i()});l.afterEach((t,r,i)=>{localStorage.getItem("author")!=null?d.state.username=JSON.parse(localStorage.getItem("author")).username:d.state.username=""});p.defaults.withCredentials=!0;const m=p.create({baseURL:"http://106.54.189.191/",timeout:3e4});m.interceptors.request.use(t=>(t.headers.Authorization="Bearer "+localStorage.getItem("token"),t),t=>Promise.reject(t));m.interceptors.response.use(t=>{const r=t.data;return r.code=200,r.code!==200?(alert(r.message),Promise.reject(new Error(r.message||"Error"))):r},t=>{if(t.response.status===401)return alert("\u9700\u8981\u767B\u5F55"),Promise.reject(t);if(t.response.status===404)return alert(t.response.data.message),Promise.reject(t)});const w={name:"notice",data(){return{count:0,advList:[]}},created(){},methods:{loadNotice(){m({url:"/api/notice/list",method:"GET"}).then(t=>{this.advList=t.data})}},mounted(){this.loadNotice()}},B=f("a",{class:"list-group-item active"},[R("TOP"),f("span",{class:"float-end"},"\u{1F387}")],-1),C=["href"];function q(t,r,i,a,e,s){return c(),_(h,null,[B,(c(!0),_(h,null,I(e.advList,(n,u)=>(c(),_("a",{key:u,href:n.url,class:"list-group-item move-b-lr-0"},T(n.title),9,C))),128))],64)}var F=v(w,[["render",q]]);const g=V(N);g.component("notice",F);g.use(l).use(d).mount("#app");export{v as _,F as a,m as s};
