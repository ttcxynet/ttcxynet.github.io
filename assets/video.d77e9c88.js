import{_ as p,s as u}from"./index.3c783bdb.js";import{o as i,e as o,F as g,i as m,f as e,t as d,n as h,j as v}from"./vendor.610329c2.js";const x={name:"author_video",data(){return{thisUsername:this.$route.params.username,isThisUser:this.$route.params.username==this.$store.state.username,thisItem:{},vlist:[],articlePage:{nextPage:1},subjectFrom:{subjectId:""},subjectList:[],huoqu:"\u83B7\u53D6\u4E2D..."}},methods:{nextPage(){this.articlePage.nextPage+=1,this.loadArticleByUsername(this.articlePage.nextPage)},loadArticleByUsername(){this.huoqu="\u83B7\u53D6\u4E2D...",u({url:"/api/video/username/"+this.$route.params.username,method:"get",params:{page:this.articlePage.nextPage}}).then(t=>{t.data.list!=null&&(this.vlist=this.vlist.concat(t.data.list),this.articlePage=t.data),this.huoqu="\u83B7\u53D6"})},openVideo(t){this.$router.push({name:"video_info",params:{id:t}})},deleteVideo(t,a){confirm("\u786E\u8BA4\u5220\u9664\uFF1F")&&u({url:"/api/video/"+t,method:"delete"}).then(_=>{this.vlist.splice(a,1)})}},mounted(){this.loadArticleByUsername()}},f={class:"list-group article-list"},b={class:"row"},k={class:"col-md-3"},y=["src","onClick"],P={class:"col-md-9"},C=["onClick"],V=["textContent"],$={style:{padding:"0 5px",background:"#e5e5e5","border-radius":"10px"}},j=v("\xA0\xA0 "),B={class:"btn-group float-end"},I=["onClick"],U=["onClick"],q={key:0,class:"list-group-item"},A={key:1,class:"list-group-item"};function F(t,a,_,N,n,r){return i(),o("ul",f,[(i(!0),o(g,null,m(n.vlist,(s,c)=>(i(),o("li",{class:"list-group-item",key:c},[e("div",b,[e("div",k,[e("img",{src:s.coverUrl,class:"figure-img img-fluid rounded",style:{width:"100%"},onClick:l=>r.openVideo(s.videoId)},null,8,y)]),e("div",P,[e("a",{onClick:l=>r.openVideo(s.videoId),class:"article-title"},[e("strong",null,[e("p",{textContent:d(s.title)},null,8,V)])],8,C),e("span",$,d(s.createDate),1),j,e("div",B,[e("button",{class:"btn btn-outline-danger float-end",style:{padding:"0px 5px 0px 3px","font-size":"13px","border-right":"0"},onClick:l=>r.deleteVideo(s.videoId,c)}," \u5220\u9664 ",8,I),e("button",{class:"btn btn-outline-danger float-end",style:{padding:"0px 5px 0px 3px","font-size":"13px"},target:"_blank",onClick:l=>t.$router.push({name:"video_contribute",params:{id:s.videoId}})}," \u4FEE\u6539 ",8,U)])])])]))),128)),n.articlePage.nextPage!=0?(i(),o("li",q,[e("a",{onClick:a[0]||(a[0]=s=>r.nextPage())},d(n.huoqu),1)])):h("",!0),n.vlist.length==0?(i(),o("li",A," \u6CA1\u6709\u6570\u636E ")):h("",!0)])}var D=p(x,[["render",F]]);export{D as default};
