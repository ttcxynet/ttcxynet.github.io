import{_ as v,s as u,a as p}from"./index.2327e925.js";import{r as k,o as a,f as r,h as e,t as m,l,k as h,q as c,i as f}from"./vendor.3451bb13.js";const b={name:"author_index",data(){return{routeName:this.$route.name,author:{},thisUsername:"",loginUsername:this.$store.state.username,from:{page:1},fans:1}},components:{},methods:{fansClick(n){this.fans==2?u({url:"/api/fans/"+n,method:"POST"}).then(s=>{this.fans=1}):u({url:"/api/fans/"+n,method:"DELETE"})(n).then(s=>{this.fans=2})},isFans(){u({url:"/api/fans/is",method:"get",params:{username:this.thisUsername}}).then(n=>{n.data==1?this.fans=1:this.fans=2})},selectTypeClick(n){this.routeName=n,this.$router.push({name:n})},selectAuthor(n){u({url:"/api/author/"+n,method:"GET"}).then(s=>{this.author=s.data})}},created(){this.selectAuthor(this.$route.params.username)},mounted(){this.thisUsername=this.$route.params.username,this.$store.state.username!=""&&this.isFans()}},x={class:"row clearfix"},y={class:"col-md-4 col-md-push-8 move-p-lr-0"},C={class:"card mb-2 move-b-lr-0"},g={class:"card-body"},N=e("hr",null,null,-1),T=f("\u7B80\u4ECB\uFF1A"),U={class:"list-group mb-2 d-md-inline d-none"},j={class:"col-md-8 col-md-pull-4 mb-2 move-p-lr-0"},w={class:"card move-b-lr-0"},E={class:"card-header"},V={class:"nav justify-content-center"},z={class:"nav-item"},B={class:"nav-item"},A={key:0,class:"nav-item"},D={key:1,class:"nav-item"},F={key:2,class:"nav-item"},S={class:"card-body p-0"};function q(n,s,G,L,t,i){const _=p,d=k("router-view");return a(),r("div",x,[e("div",y,[e("div",C,[e("div",g,[e("strong",null,m(t.author.nickname),1),t.fans==2?(a(),r("button",{key:0,class:"btn btn-outline-warning float-end",style:{padding:"0px 5px 0px 3px","font-size":"13px"},onClick:s[0]||(s[0]=o=>i.fansClick(t.author.username))},"\u8BA2\u9605")):l("",!0),t.fans==1?(a(),r("button",{key:1,class:"btn btn-outline-warning float-end",style:{padding:"0px 5px 0px 3px","font-size":"13px"},onClick:s[1]||(s[1]=o=>i.fansClick(t.author.username))},"\u53D6\u6D88\u8BA2\u9605")):l("",!0),N,e("div",null,[T,e("span",null,m(t.author.signature),1)])])]),e("div",U,[h(_)])]),e("div",j,[e("div",w,[e("div",E,[e("ul",V,[e("li",z,[e("a",{class:c(["nav-link",t.routeName=="author_article"?"nav-link-active":""]),onClick:s[2]||(s[2]=o=>i.selectTypeClick("author_article"))},"\u535A\u5BA2",2)]),e("li",B,[e("a",{class:c(["nav-link",t.routeName=="author_subject"?"nav-link-active":""]),onClick:s[3]||(s[3]=o=>i.selectTypeClick("author_subject"))},"\u4E13\u680F",2)]),t.thisUsername==t.loginUsername?(a(),r("li",A,[e("a",{class:c(["nav-link",t.routeName=="author_subscribe"?"nav-link-active":""]),onClick:s[4]||(s[4]=o=>i.selectTypeClick("author_subscribe"))},"\u8BA2\u9605",2)])):l("",!0),t.thisUsername==t.loginUsername?(a(),r("li",D,[e("a",{class:c(["nav-link",t.routeName=="author_like"?"nav-link-active":""]),onClick:s[5]||(s[5]=o=>i.selectTypeClick("author_like"))},"\u559C\u6B22",2)])):l("",!0),t.thisUsername==t.loginUsername?(a(),r("li",F,[e("a",{class:c(["nav-link",t.routeName=="author_setting"?"nav-link-active":""]),onClick:s[6]||(s[6]=o=>i.selectTypeClick("author_setting"))},"\u8BBE\u7F6E",2)])):l("",!0)])]),e("div",S,[h(d)])])])])}var H=v(b,[["render",q]]);export{H as default};
