/* empty css                  *//* empty css                   *//* empty css                     *//* empty css                  *//* empty css                  */import{_ as k,s as n}from"./index.11c52178.js";import{T as w,A as y,B as C,J as x,L,U as R,O as U,C as v,D as P,G as B,K as j,Q as G,o as m,e as O,m as e,w as l,F as S,d as p,n as _,j as r,t as N,f as q}from"./vendor.610329c2.js";const F={name:"admin_resource",data(){return{dialogVisible:!1,resourceList:[],formData:{},queryData:""}},created(){},methods:{refresh(){n({url:"/api/admin/resource/refresh",method:"GET"}).then(s=>{this.loadResourceList()})},handleEdit(s){this.formData=s},handleClose(){this.dialogVisible=!1},selectResource(s){n({url:"/api/admin/resource/"+s,method:"GET"}).then(o=>{this.formData=o.data})},loadResourceList(){n({url:"/api/admin/resource",method:"GET",params:{queryData:this.queryData}}).then(s=>{this.resourceList=s.data})},insertResource(){this.formData.resourceId==null?n({url:"/api/admin/resource",method:"POST",data:this.formData}).then(s=>{this.loadResourceList(),this.dialogVisible=!1,this.formData={}}):n({url:"/api/admin/resource",method:"PUT",data:this.formData}).then(s=>{this.loadResourceList(),this.dialogVisible=!1,this.formData={}})},deleteResource(s){w.confirm("\u786E\u8BA4\u5220\u9664\u8D44\u6E90\u94FE\u63A5\u5417?","\u63D0\u9192",{confirmButtonText:"\u786E\u8BA4",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{n({url:"/api/admin/resource/"+s,method:"DELETE"}).then(o=>{y({type:"success",message:"\u5220\u9664\u6210\u529F"}),this.loadResourceList()})}).catch(()=>{y({type:"info",message:"\u53D6\u6D88\u5220\u9664"})})},update(){n({url:"/api/admin/resource",method:"PUT",data:this.formData}).then(s=>{this.$refs.me.click(),this.loadResourceList()})}},mounted(){this.loadResourceList()}},I=r("\u641C\u7D22"),M=r("\u6DFB\u52A0\u8D44\u6E90"),z=r("\u5237\u65B0\u8BF7\u6C42\u72B6\u6001"),A=r("GET"),J=r("POST"),K=r("PUT"),Q=r("DELETE"),H=r("\u83DC\u5355"),W=r("\u7F16\u8F91"),X=r("\u5220\u9664"),Y={class:"dialog-footer"},Z=r("\u53D6\u6D88"),$=r("\u4FDD\u5B58");function ee(s,o,te,le,a,d){const h=C,i=x,c=L,u=R,b=U,E=v,f=P,D=B,T=j,V=G;return m(),O(S,null,[e(h,{modelValue:a.queryData,"onUpdate:modelValue":o[0]||(o[0]=t=>a.queryData=t),class:"w-50 m-2",placeholder:"Pick a date",style:{width:"200px !important"},"suffix-icon":s.Calendar},null,8,["modelValue","suffix-icon"]),e(i,{onClick:d.loadResourceList},{default:l(()=>[I]),_:1},8,["onClick"]),e(i,{onClick:o[1]||(o[1]=t=>a.dialogVisible=!0)},{default:l(()=>[M]),_:1}),e(i,{onClick:d.refresh},{default:l(()=>[z]),_:1},8,["onClick"]),e(b,{ref:"tableRef","row-key":"name",data:a.resourceList,style:{width:"100%"}},{default:l(()=>[e(c,{prop:"name",label:"\u8D44\u6E90\u540D",width:"180"}),e(c,{prop:"path",label:"\u8DEF\u5F84",width:"400"}),e(c,{prop:"type",label:"\u7C7B\u578B"},{default:l(t=>[t.row.type=="GET"?(m(),p(u,{key:0,class:"mx-1"},{default:l(()=>[A]),_:1})):_("",!0),t.row.type=="POST"?(m(),p(u,{key:1,class:"ml-2 mx-1",type:"success"},{default:l(()=>[J]),_:1})):_("",!0),t.row.type=="PUT"?(m(),p(u,{key:2,class:"ml-2 mx-1",type:"warning"},{default:l(()=>[K]),_:1})):_("",!0),t.row.type=="DELETE"?(m(),p(u,{key:3,class:"ml-2 mx-1",type:"danger"},{default:l(()=>[Q]),_:1})):_("",!0),t.row.type=="MENU"?(m(),p(u,{key:4,class:"ml-2 mx-1",type:"info"},{default:l(()=>[H]),_:1})):_("",!0)]),_:1}),e(c,{label:"\u72B6\u6001",width:"400"},{default:l(t=>[e(u,{type:t.row.state==8?"success":"danger","disable-transitions":""},{default:l(()=>[r(N(t.row.state==8?"\u7CFB\u7EDF\u4E2D\u5B58\u5728":"\u7CFB\u7EDF\u4E2D\u4E0D\u5B58\u5728\u7684\u8D44\u6E90"),1)]),_:2},1032,["type"])]),_:1}),e(c,{prop:"tag",label:"",align:"right"},{default:l(t=>[e(i,{size:"small",onClick:g=>(d.handleEdit(t.row),a.dialogVisible=!0)},{default:l(()=>[W]),_:2},1032,["onClick"]),e(i,{size:"small",type:"danger",onClick:g=>d.deleteResource(t.row.resourceId)},{default:l(()=>[X]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(V,{modelValue:a.dialogVisible,"onUpdate:modelValue":o[7]||(o[7]=t=>a.dialogVisible=t),title:"Tips",width:"60%","before-close":d.handleClose},{footer:l(()=>[q("span",Y,[e(i,{onClick:o[6]||(o[6]=t=>a.dialogVisible=!1)},{default:l(()=>[Z]),_:1}),e(i,{type:"primary",onClick:d.insertResource},{default:l(()=>[$]),_:1},8,["onClick"])])]),default:l(()=>[e(T,{ref:"formRef",model:a.formData,"label-width":"120px"},{default:l(()=>[e(E,{label:"\u8D44\u6E90\u540D\u79F0"},{default:l(()=>[e(h,{modelValue:a.formData.name,"onUpdate:modelValue":o[2]||(o[2]=t=>a.formData.name=t)},null,8,["modelValue"])]),_:1}),e(E,{label:"\u8D44\u6E90\u8DEF\u5F84"},{default:l(()=>[e(h,{modelValue:a.formData.path,"onUpdate:modelValue":o[3]||(o[3]=t=>a.formData.path=t)},null,8,["modelValue"])]),_:1}),e(E,{label:"\u8BF7\u6C42\u7C7B\u578B"},{default:l(()=>[e(D,{modelValue:a.formData.type,"onUpdate:modelValue":o[4]||(o[4]=t=>a.formData.type=t),placeholder:"\u8BF7\u6C42\u7C7B\u578B",style:{width:"100%"}},{default:l(()=>[e(f,{label:"GET",value:"GET"}),e(f,{label:"POST",value:"POST"}),e(f,{label:"PUT",value:"PUT"}),e(f,{label:"DELETE",value:"DELETE"}),e(f,{label:"\u83DC\u5355",value:"MENU"})]),_:1},8,["modelValue"])]),_:1}),e(E,{label:"\u63CF\u8FF0"},{default:l(()=>[e(h,{modelValue:a.formData.desc,"onUpdate:modelValue":o[5]||(o[5]=t=>a.formData.desc=t),type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","before-close"])],64)}var ue=k(F,[["render",ee]]);export{ue as default};
