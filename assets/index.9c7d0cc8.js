import{c as j,a as L,b as P,r as O,o as c,d as A,e as p,f as _,F as h,g as I,h as f,i as R,t as T,j as V}from"./vendor.d79661e5.js";const x=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function i(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(e){if(e.ep)return;e.ep=!0;const s=i(e);fetch(e.href,s)}};x();const y="modulepreload",b={},D="/",r=function(o,i){return!i||i.length===0?o():Promise.all(i.map(a=>{if(a=`${D}${a}`,a in b)return;b[a]=!0;const e=a.endsWith(".css"),s=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${s}`))return;const n=document.createElement("link");if(n.rel=e?"stylesheet":y,e||(n.as="script",n.crossOrigin=""),n.href=a,document.head.appendChild(n),e)return new Promise((u,v)=>{n.addEventListener("load",u),n.addEventListener("error",v)})})).then(()=>o())},$=[{path:"/",name:"home",component:()=>r(()=>import("./index.1937647c.js"),["assets/index.1937647c.js","assets/index.187f2b52.css","assets/vendor.d79661e5.js"]),children:[{path:"/",name:"main",component:()=>r(()=>import("./index.4ea5f7bb.js"),["assets/index.4ea5f7bb.js","assets/index.c7f131ab.css","assets/vendor.d79661e5.js"])},{path:"/blog",name:"blog",component:()=>r(()=>import("./index.4ea5f7bb.js"),["assets/index.4ea5f7bb.js","assets/index.c7f131ab.css","assets/vendor.d79661e5.js"])},{path:"/author/:username",name:"author_index",component:()=>r(()=>import("./index.97e97379.js"),["assets/index.97e97379.js","assets/subject.8c0745dd.css","assets/vendor.d79661e5.js"]),children:[{path:"",name:"author_blog",component:()=>r(()=>import("./blog.8d92f1bf.js"),["assets/blog.8d92f1bf.js","assets/subject.8c0745dd.css","assets/vendor.d79661e5.js"])},{path:"setting",name:"author_setting",component:()=>r(()=>import("./setting.4ee1752b.js"),["assets/setting.4ee1752b.js","assets/subject.8c0745dd.css","assets/vendor.d79661e5.js"])},{path:"subject",name:"author_subject",component:()=>r(()=>import("./subject.9bdd678b.js"),["assets/subject.9bdd678b.js","assets/subject.8c0745dd.css","assets/vendor.d79661e5.js"])},{path:"subscribe",name:"author_subscribe",component:()=>r(()=>import("./subscribe.f790264c.js"),["assets/subscribe.f790264c.js","assets/subject.8c0745dd.css","assets/vendor.d79661e5.js"])},{path:"like",name:"author_like",component:()=>r(()=>import("./like.7e437f54.js"),["assets/like.7e437f54.js","assets/subject.8c0745dd.css","assets/vendor.d79661e5.js"])}]},{path:"/blog/:id",name:"blog_info",component:()=>r(()=>import("./blog.2df21c84.js"),["assets/blog.2df21c84.js","assets/vendor.d79661e5.js"])},{path:"/subject",name:"subject_index",component:()=>r(()=>import("./index.6d8f55b2.js"),["assets/index.6d8f55b2.js","assets/index.71d665fb.css","assets/vendor.d79661e5.js"])},{path:"/authors",name:"author_list",component:()=>r(()=>import("./author_list.96c12fab.js"),["assets/author_list.96c12fab.js","assets/subject.8c0745dd.css","assets/vendor.d79661e5.js"])},{path:"/subject/:subject_id",name:"subject_info",component:()=>r(()=>import("./post.737176bf.js"),["assets/post.737176bf.js","assets/post.49c383c9.css","assets/vendor.d79661e5.js"])},{path:"/search",name:"search_index",component:()=>r(()=>import("./index.07fae94e.js"),["assets/index.07fae94e.js","assets/vendor.d79661e5.js"])}]},{path:"/blog-editor/:id",name:"blog-editor",component:()=>r(()=>import("./blog-editor.34437acd.js"),["assets/blog-editor.34437acd.js","assets/blog-editor.186a95c0.css","assets/vendor.d79661e5.js"])},{path:"/login",name:"login",component:()=>r(()=>import("./index.3c8023ac.js"),["assets/index.3c8023ac.js","assets/index.0dbf4bdd.css","assets/vendor.d79661e5.js"])},{path:"/:catchAll(.*)",component:()=>r(()=>import("./404.425c5984.js"),["assets/404.425c5984.js","assets/subject.8c0745dd.css","assets/vendor.d79661e5.js"]),hidden:!0}],l=j({history:L(),routes:$});var m=P({state:{username:""},actions:{}}),E=(t,o)=>{const i=t.__vccOpts||t;for(const[a,e]of o)i[a]=e;return i};const k={name:"App",created(){}};function S(t,o,i,a,e,s){const n=O("router-view");return c(),A(n)}var N=E(k,[["render",S]]);l.beforeEach((t,o,i)=>{i()});l.afterEach((t,o,i)=>{localStorage.getItem("author")!=null?m.state.username=JSON.parse(localStorage.getItem("author")).username:m.state.username=""});p.defaults.withCredentials=!0;const d=p.create({baseURL:"https://106.54.189.191/",timeout:3e4});d.interceptors.request.use(t=>(t.headers.Authorization="Bearer "+localStorage.getItem("token"),t),t=>Promise.reject(t));d.interceptors.response.use(t=>{const o=t.data;return o.code=200,o.code!==200?(alert(o.message),Promise.reject(new Error(o.message||"Error"))):o},t=>{if(t.response.status===401)return alert("\u9700\u8981\u767B\u5F55"),Promise.reject(t);if(t.response.status===404)return alert(t.response.data.message),Promise.reject(t)});const w={name:"notice",data(){return{count:0,advList:[]}},created(){},methods:{loadNotice(){d({url:"/api/notice/list",method:"GET"}).then(t=>{this.advList=t.data})}},mounted(){this.loadNotice()}},B=f("a",{class:"list-group-item active"},[R("TOP"),f("span",{class:"float-end"},"\u{1F387}")],-1),C=["href"];function q(t,o,i,a,e,s){return c(),_(h,null,[B,(c(!0),_(h,null,I(e.advList,(n,u)=>(c(),_("a",{key:u,href:n.url,class:"list-group-item move-b-lr-0"},T(n.title),9,C))),128))],64)}var F=E(w,[["render",q]]);const g=V(N);g.component("notice",F);g.use(l).use(m).mount("#app");export{E as _,F as a,d as s};
